{
  "prompt_name": "Email Generation Evaluation",
  "timestamp": "2025-07-19T09:33:57.415928",
  "evaluation_time": 21.817731857299805,
  "test_cases": {
    "total": 1,
    "passed": 0,
    "failed": 1,
    "pass_rate": 0.0
  },
  "deterministic_checks": {
    "pass_rate": 1.0,
    "passed": 1,
    "total": 1
  },
  "llm_judges": {
    "pass_rate": 0.0,
    "passed": 0,
    "eligible": 1
  },
  "detailed_results": [
    {
      "test_case": {
        "input_website_url": "https://mandrel.tech",
        "context_type": "valid",
        "expected_company_name": "Mandrel",
        "company_context": "{\"company_name\": \"Mandrel\", \"description\": \"Mandrel is a supply chain optimization platform that helps consumer goods companies manage procurement, inventory, and vendor relationships more efficiently. It provides real-time visibility into supply chain operations and automated workflows for sourcing decisions.\", \"capabilities\": [\"Procurement Automation: Streamlines vendor selection and purchase order management\", \"Inventory Optimization: Provides real-time visibility into stock levels and demand forecasting\", \"Vendor Management: Centralizes supplier relationships and performance tracking\"]}",
        "target_account_context": "{\"account_profile_name\": \"Consumer goods companies\", \"firmographics\": {\"industry\": [\"Consumer Goods\", \"Retail\"], \"employees\": \"100-1000\", \"revenue\": \"$10M-$100M\"}, \"use_cases\": [\"Optimize procurement costs and supplier relationships\", \"Reduce inventory carrying costs while avoiding stockouts\"]}",
        "target_persona_context": "{\"target_persona_name\": \"Supply Chain Leads\", \"responsibilities\": [\"Manage vendor relationships and procurement processes\", \"Optimize inventory levels and supply chain costs\", \"Ensure supply chain resilience and risk mitigation\"], \"pain_points\": [\"Manual procurement processes slow down operations\", \"Poor visibility into supplier performance and inventory levels\", \"Difficulty balancing inventory costs with stockout risks\"], \"goals\": [\"Reduce procurement costs by 10-15%\", \"Improve supply chain visibility and automation\"]}",
        "preferences": "{\"use_case\": \"reduce_costs\", \"emphasis\": \"desired-outcome\", \"opening_line\": \"buying-signal\", \"cta_setting\": \"demo\", \"template\": \"blossomer\"}",
        "account_profile_name": "Consumer goods companies",
        "persona_profile_name": "Supply Chain Leads"
      },
      "deterministic_results": {
        "overall_pass": true,
        "checks": {
          "D-1_valid_json": {
            "check_name": "json_validation",
            "description": "Validates that the output is properly formatted JSON",
            "inputs_evaluated": [
              {
                "field": "raw_output",
                "value": "{\"subjects\":{\"primary\":\"Reduce supply costs\",\"alternatives\":[\"Optimize procurement now\",\"Streamline inventory costs\"]},\"full_email_body\":\"Hi [Supply Chain Lead],\\n\\nNoticed recent discussions around c..."
              }
            ],
            "pass": true,
            "rationale": "The output is valid JSON with proper syntax and can be parsed successfully.",
            "data": {
              "subjects": {
                "primary": "Reduce supply costs",
                "alternatives": [
                  "Optimize procurement now",
                  "Streamline inventory costs"
                ]
              },
              "full_email_body": "Hi [Supply Chain Lead],\n\nNoticed recent discussions around cost reduction at [Company Name], which is a constant challenge in supply chain management. We’ve helped companies like yours automate procurement and optimize inventory, leading to significant savings. I’d love to show how Mandrel can help you cut costs without sacrificing service. Would you be open to a quick demo?\n\nBest,\n[Your Name]",
              "email_body_breakdown": [
                {
                  "text": "Hi [Supply Chain Lead],",
                  "type": "greeting"
                },
                {
                  "text": "Noticed recent discussions around cost reduction at [Company Name], which is a constant challenge in supply chain management.",
                  "type": "opening"
                },
                {
                  "text": "We’ve helped companies like yours automate procurement and optimize inventory, leading to significant savings.",
                  "type": "pain-point"
                },
                {
                  "text": "I’d love to show how Mandrel can help you cut costs without sacrificing service. Would you be open to a quick demo?",
                  "type": "cta"
                },
                {
                  "text": "Best,\n[Your Name]",
                  "type": "signature"
                }
              ],
              "writing_process": {
                "trigger": "Noticed recent discussions around cost reduction at [Company Name]",
                "problem": "Reducing supply chain costs while maintaining service levels",
                "help": "Helped similar companies automate procurement and optimize inventory",
                "cta": "Invite for a quick demo",
                "variation": "Focused on desired-outcome and cost savings",
                "followup": "Highlight capabilities and how they can directly lead to cost reductions, with a link to Mandrel's website"
              },
              "follow_up_email": {
                "subject": "Cost savings insights",
                "body": "Hi [Supply Chain Lead],\n\nThought you might find it useful—our platform integrates with your existing systems to identify quick wins. Check us [out](website) and see how we can help you reduce costs faster.",
                "wait_days": 4
              },
              "email_variation": {
                "subject": "Streamline procurement process",
                "full_email_body": "Hello [Supply Chain Lead],\n\nI came across [Company Name] and noticed your team is expanding procurement efforts. We’ve helped similar companies streamline vendor selection and purchase orders, saving time and money. Would you be interested in a quick demo to see how Mandrel can simplify your procurement workflows?\n\nThanks,\n[Your Name]"
              },
              "metadata": {
                "generation_id": "40cea719-95b2-4695-9d53-804a313b6249",
                "confidence": "high",
                "personalization_level": "medium",
                "processing_time_ms": 5894,
                "word_count": 85,
                "follow_up_word_count": 45
              }
            }
          },
          "D-2_schema_compliance": {
            "check_name": "schema_compliance",
            "description": "Validates that the output matches the expected JSON schema",
            "inputs_evaluated": [
              {
                "field": "parsed_output",
                "value": [
                  "subjects",
                  "full_email_body",
                  "email_body_breakdown",
                  "writing_process",
                  "follow_up_email",
                  "email_variation",
                  "metadata"
                ]
              },
              {
                "field": "schema_fields",
                "value": [
                  "subjects",
                  "full_email_body",
                  "email_body_breakdown",
                  "writing_process",
                  "metadata",
                  "follow_up_email"
                ]
              }
            ],
            "pass": true,
            "rationale": "Output matches expected schema and has 7/7 fields populated (≥90% required)."
          },
          "D-3_format_compliance": {
            "check_name": "subject_format",
            "description": "Validates subject line has 3-4 words with proper capitalization",
            "inputs_evaluated": [
              {
                "field": "primary_subject",
                "value": "Reduce supply costs"
              }
            ],
            "pass": true,
            "rationale": "Subject line has correct format: 3-4 words with proper capitalization"
          },
          "D-4_field_cardinality": {
            "check_name": "word_count",
            "description": "Validates email body is between 50-100 words and follow-up is max 60 words",
            "inputs_evaluated": [
              {
                "field": "full_email_body",
                "value": "61 words"
              },
              {
                "field": "follow_up_email.body",
                "value": "33 words"
              }
            ],
            "pass": true,
            "rationale": "Email body has 61 words (50-100 range), follow-up within limits"
          },
          "D-5_url_preservation": {
            "check_name": "identity_check",
            "description": "Validates proper sender/recipient identity handling",
            "inputs_evaluated": [
              {
                "field": "placeholder_present",
                "value": "Yes"
              },
              {
                "field": "sender_as_recipient",
                "value": "No"
              },
              {
                "field": "email_excerpt",
                "value": "Hi [Supply Chain Lead],\n\nNoticed recent discussions around cost reduction at [Company Name], which is a constant challenge in supply chain management. We’ve helped companies like yours automate procur..."
              }
            ],
            "pass": true,
            "rationale": "Email correctly handles company identity without confusing sender/recipient or hallucinating company names"
          }
        },
        "summary": "Deterministic validation results",
        "passed_checks": 5,
        "total_checks": 5
      },
      "llm_results": {
        "overall_pass": false,
        "judges": {
          "email_quality": {
            "email_naturalness": {
              "check_name": "email_naturalness",
              "description": "Email sounds like a real founder wrote it",
              "inputs_evaluated": [
                {
                  "field": "most_natural_phrase",
                  "value": "I'd love to show how Mandrel can help you cut costs"
                },
                {
                  "field": "least_natural_phrase",
                  "value": "None found"
                },
                {
                  "field": "subject_assessment",
                  "value": "Subject line is straightforward but lacks warmth"
                }
              ],
              "pass": true,
              "rating": "sufficient",
              "rationale": "The email uses conversational language, particularly in the phrase 'I'd love to show...'. However, the subject line is somewhat generic and could be more engaging."
            },
            "genuine_helpfulness": {
              "check_name": "genuine_helpfulness",
              "description": "Email feels genuinely helpful rather than sales-focused",
              "inputs_evaluated": [
                {
                  "field": "rhetorical_questions",
                  "value": "None found"
                },
                {
                  "field": "sales_manipulation",
                  "value": "None found"
                },
                {
                  "field": "helpful_tone_evidence",
                  "value": "leading to significant savings"
                }
              ],
              "pass": true,
              "rating": "sufficient",
              "rationale": "The email conveys a helpful tone with phrases like 'leading to significant savings', but it still feels somewhat sales-oriented without a strong personal touch."
            },
            "personalization_appropriateness": {
              "check_name": "personalization_appropriateness",
              "description": "Personalization is relevant without being creepy OR email is hyper-relevant to recipient",
              "inputs_evaluated": [
                {
                  "field": "personalization_evidence",
                  "value": "Noticed recent discussions around cost reduction"
                },
                {
                  "field": "hyper_relevance_evidence",
                  "value": "automate procurement and optimize inventory"
                },
                {
                  "field": "overall_relevance_level",
                  "value": "Medium"
                }
              ],
              "pass": true,
              "rating": "sufficient",
              "rationale": "The email references cost reduction discussions, which is relevant, but lacks deeper personalization. The content is relevant to the recipient's role, addressing common pain points."
            },
            "uncertainty_handling": {
              "check_name": "uncertainty_handling",
              "description": "Uncertain inputs handled properly with graceful fallbacks",
              "inputs_evaluated": [
                {
                  "field": "uncertainty_indicators_present",
                  "value": "No uncertainty detected"
                },
                {
                  "field": "content_coherence",
                  "value": "None found"
                },
                {
                  "field": "natural_fallback_evidence",
                  "value": "None found"
                }
              ],
              "pass": true,
              "rating": "impressive",
              "rationale": "The email does not contain any uncertain inputs or gibberish, and it maintains coherence throughout, demonstrating effective handling of content."
            },
            "structure_compliance": {
              "check_name": "structure_compliance",
              "description": "Email follows founder outreach best practices",
              "inputs_evaluated": [
                {
                  "field": "opening_hook",
                  "value": "Noticed recent discussions around cost reduction"
                },
                {
                  "field": "value_proposition",
                  "value": "helped companies like yours automate procurement"
                },
                {
                  "field": "call_to_action",
                  "value": "Would you be open to a quick demo?"
                }
              ],
              "pass": true,
              "rating": "sufficient",
              "rationale": "The email has a clear opening hook and value proposition, but the call-to-action could be more compelling. Overall, it follows best practices but lacks a bit of engagement."
            },
            "follow_up_variety": {
              "check_name": "follow_up_variety",
              "description": "Follow-up email offers different angle than initial email",
              "inputs_evaluated": [
                {
                  "field": "initial_email_focus",
                  "value": "Cost reduction in supply chain"
                },
                {
                  "field": "follow_up_email_focus",
                  "value": "Integration for quick wins"
                },
                {
                  "field": "repetition_assessment",
                  "value": "Offers new perspective on cost savings"
                }
              ],
              "pass": true,
              "rating": "sufficient",
              "rationale": "The follow-up email shifts focus to integration and quick wins, providing a different angle than the initial email. However, it could offer more depth or new insights."
            }
          }
        },
        "total_calls": 1
      },
      "overall_pass": false,
      "errors": [],
      "generated_output": "{\"subjects\":{\"primary\":\"Reduce supply costs\",\"alternatives\":[\"Optimize procurement now\",\"Streamline inventory costs\"]},\"full_email_body\":\"Hi [Supply Chain Lead],\\n\\nNoticed recent discussions around cost reduction at [Company Name], which is a constant challenge in supply chain management. We’ve helped companies like yours automate procurement and optimize inventory, leading to significant savings. I’d love to show how Mandrel can help you cut costs without sacrificing service. Would you be open to a quick demo?\\n\\nBest,\\n[Your Name]\",\"email_body_breakdown\":[{\"text\":\"Hi [Supply Chain Lead],\",\"type\":\"greeting\"},{\"text\":\"Noticed recent discussions around cost reduction at [Company Name], which is a constant challenge in supply chain management.\",\"type\":\"opening\"},{\"text\":\"We’ve helped companies like yours automate procurement and optimize inventory, leading to significant savings.\",\"type\":\"pain-point\"},{\"text\":\"I’d love to show how Mandrel can help you cut costs without sacrificing service. Would you be open to a quick demo?\",\"type\":\"cta\"},{\"text\":\"Best,\\n[Your Name]\",\"type\":\"signature\"}],\"writing_process\":{\"trigger\":\"Noticed recent discussions around cost reduction at [Company Name]\",\"problem\":\"Reducing supply chain costs while maintaining service levels\",\"help\":\"Helped similar companies automate procurement and optimize inventory\",\"cta\":\"Invite for a quick demo\",\"variation\":\"Focused on desired-outcome and cost savings\",\"followup\":\"Highlight capabilities and how they can directly lead to cost reductions, with a link to Mandrel's website\"},\"follow_up_email\":{\"subject\":\"Cost savings insights\",\"body\":\"Hi [Supply Chain Lead],\\n\\nThought you might find it useful—our platform integrates with your existing systems to identify quick wins. Check us [out](website) and see how we can help you reduce costs faster.\",\"wait_days\":4},\"email_variation\":{\"subject\":\"Streamline procurement process\",\"full_email_body\":\"Hello [Supply Chain Lead],\\n\\nI came across [Company Name] and noticed your team is expanding procurement efforts. We’ve helped similar companies streamline vendor selection and purchase orders, saving time and money. Would you be interested in a quick demo to see how Mandrel can simplify your procurement workflows?\\n\\nThanks,\\n[Your Name]\"},\"metadata\":{\"generation_id\":\"40cea719-95b2-4695-9d53-804a313b6249\",\"confidence\":\"high\",\"personalization_level\":\"medium\",\"processing_time_ms\":5894,\"word_count\":85,\"follow_up_word_count\":45}}",
      "test_case_id": 1
    }
  ]
}